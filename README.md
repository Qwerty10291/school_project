# Проект: веб интерфейс парсера гос закупок
-------------------------------------------

[ссылка на сайт](https://zakupinfo.xyz/)
[ip(если еще не заработал домен)](https://185.46.8.52)
На сайте необходима авторизация.
Логин пароль аккаунта администратора(для теста регистрации и админ панели): admin nimda

## Как появилась идея проекта
--------
Идея пришла мне в голову после очередного однотипного заказа на фрилансе с целью создать парсер закупок.
Я посидел, подумал и решил: почему бы не создать сервис, где люди могли бы сами собирать нужную им информацию по интересующим их фильтрам и сделать к нему платный доступ

## Функционал проекта
----
У моего проекта всего одна функция: сбор информации с сайта закупок и предоставление ее пользователю в структурированном виде в файле формата .csv. Пользователь может выбрать нужные ему фильтры на главной странице и нажать кнопку "создать запрос". После это он будет перенаправлен на страницу /history где он может скачать документ с информацией или посмотреть её прямо на сайте.Также пользователь может взаимодействовать с API сайта.Описание возможностей API находится на странице /api.
Также для администраторов доступна панель как ни странно администратора.Её функционал:
1) Обработка заявок на регистрацию от пользователей
2) Просмотр всех пользователей
3) Просмотр всех заявок на парсинг от пользователей
4) Регистрация нового администратора

## Первый запуск проекта
Для начала нужно установить все зависимости проекта. Делается это командой `pip install -r requirments.txt`
Далее нужно указать данные для подключения к базе данных в файле data/auth.txt. Проект поддерживает все реляционные базы данных(тестировались только Postgresql и sqlite).
Затем, если проект запускается впервые, нужно зарегестрировать первый аккаунт сайта через скрипт `create_admin.py`.В нем в переменных нужно указать логин пароль и почту.
В файле app.py нужно указать хост и порт сервера.
Для запуска тестового сервера используется команда: `python app.py`

## Структура проекта
Проект разделен на несколько blueprinto'в:
-1.admin_blueprint - шаблон админ панели
-1.api_blueprint - шаблон информации об api сайта
-1.auth_blueprint - шаблон для регистрации и авторизации пользователей
-1.request_blueprint - шаблон создания и отображения информации о созданных пользовалем запросах
----
Логика самого парсера реализована в файле async_parser. Как уже ясно из названия, парсер реализован на асинхорнной архитектуре. Класс AsyncParserController занимается созданием и управлением созданных заявок.